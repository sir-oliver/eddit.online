<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedheader/3.2.0/css/fixedHeader.bootstrap5.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap5.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.3/css/select.bootstrap5.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/staterestore/1.0.1/css/stateRestore.bootstrap5.css"/>

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />

	<!-- <link rel="stylesheet" type="text/css" href="styles.css"/> -->

	<link rel="stylesheet" href="/eddit/css/eddit.css">

	<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script src="https://kit.fontawesome.com/c56ed75007.js" crossorigin="anonymous"></script>

	<script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/fixedheader/3.2.0/js/dataTables.fixedHeader.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap5.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/staterestore/1.0.1/js/dataTables.stateRestore.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/staterestore/1.0.1/js/stateRestore.bootstrap5.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>

	<!-- <script type="text/javascript" src="https://unpkg.com/split-grid/dist/split-grid.js"></script> -->
	<script type="text/javascript" src="i18n.js"></script>
	<script type="text/javascript" src="split-grid.js"></script>
	<title>eddit - prototype - 0.6</title>
</head>
<body>

	<div id="grid" class="web">
		<div id="nav">
			<div class="d-flex flex-column h-100">

					<a class="" href="" title="Home">
						<div class="icn">
							<img src="https://www.gravatar.com/avatar/fb5c36f075490e35d568cb703c6fae50?s=150&amp;d=mp&amp;r=g" alt="oliver@networx.at" style="width:40px;height:40px;border-radius: 50%">
						</div>
						<span class="txt txt-visible">OLIVER BUSTA</span>
					</a>
					<div class="nav">
						<a class="" href="#languages" data-bs-toggle="tab" title="Languages">
							<!-- <span class="icn"><i class="fas fa-globe-europe"></i></span> -->
							<span class="icn"><img src="https://flagcdn.com/at.svg" width="24" alt="AT"></span>
							<span class="txt">SPRACHE</span>
						</a>
						<a class="active" href="#pages" title="Seiten" data-bs-toggle="tab">
							<span class="icn"><i class="fas fa-sitemap"></i></span>
							<span class="txt">SITEMAP</span>
						</a>
						<a class="" href="#objects" title="Seiteninhalt" data-bs-toggle="tab">
							<span class="icn"><i class="far fa-file-alt"></i></span>
							<span class="txt">INHALT</span>
						</a>
						<a class="" href="#files" title="Dateien" data-bs-toggle="tab">
							<span class="icn"><i class="far fa-images"></i></span>
							<span class="txt">DATEIEN</span>
						</a>
						<a class="" href="#publish" data-bs-toggle="tab" title="Publish">
							<span class="icn"><i class="fas fa-bolt"></i></span>
							<span class="txt">PUBLISH</span>
						</a>
						<a class="" href="#linkcheck" data-bs-toggle="tab" title="Link Checker">
							<span class="icn"><i class="fas fa-code"></i></span>
							<span class="txt">CHECK <br>LINKS</span>
						</a>
						<a class="" href="#settings" data-bs-toggle="tab" title="Settings">
							<span class="icn"><i class="fas fa-cog"></i></span>
							<span class="txt">SETTINGS</span>
						</a>
					</div>
					<!-- <a class="" href="#languages" data-bs-toggle="modal" data-bs-target="#exampleModal" title="Languages">
						<span class="icn"><i class="fas fa-globe-europe"></i></span>
						<span class="txt">SPRACHE</span>
					</a>
					<a class="" href="#publish" data-bs-toggle="modal" data-bs-target="#exampleModal" title="Publish">
						<span class="icn"><i class="fas fa-bolt"></i></span>
						<span class="txt">PUBLISH</span>
					</a> -->
					<!-- <a class="" onclick="hideLists();resizeContent()" title="Toggle lists">
						<i class="fas fa-list-ul"></i>
					</a> -->
					<div class="mt-auto mb-auto">
						<div class="eddit-logo"><b>eddit.online</b><span> © busta.digital</span></div>
					</div>
					<a class="" href="" title="Logout">
						<span class="icn"><i class="fas fa-sign-out-alt"></i></span>
						<span class="txt">LOGOUT</span>
					</a>
				</div>
		</div>
		<div class="" id="lists">


			<div class="tab-content">
		
				<div class="tab-pane fade show active" id="pages">
					<div class="h-100 d-flex flex-column">
						<div class="toolbar">
							<div class="input-group input-group-sm">
								<input type="text" class="form-control" placeholder="Suche" id="nodesFilter">
								<button class="btn btn-light btn-search" type="button"><i class="fa fa-search"></i></button>
							</div>
						</div>
						<div class="scrollable flex-grow-1">
							<div id="nodeTree"></div>
						</div>
					</div>
				</div>
		
				<div class="tab-pane fade" id="objects">
					<div class="h-100 d-flex flex-column">
						<div class="toolbar">
							<div class="input-group input-group-sm">
								<input type="text" class="form-control" placeholder="Suche" id="objectsFilter">
								<button class="btn btn-light btn-search" type="button"><i class="fa fa-search"></i></button>
								<button class="btn btn-light" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fa fa-plus-square-o"></i></button>
								<button class="btn btn-light" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fa fa-copy"></i></button>
							</div>
						</div>
						<div class="scrollable flex-grow-1">
							<div id="objectTree"></div>
						</div>
					</div>
				</div>
		
				<div class="tab-pane fade" id="files">
					<div class="folders d-flex flex-column" style="height: 37vh">
						<div class="toolbar">
							<div class="input-group input-group-sm">
								<input type="text" class="form-control" placeholder="Suche" id="foldersFilter">
								<button class="btn btn-light btn-search" type="button"><i class="fa fa-search"></i></button>
								<button class="btn btn-light" type="button" onclick="ce.filetree.tree.refresh()" data-toggle="tooltip" data-placement="right" data-container=".sidebar" title="" data-original-title="Ordner aktualisieren"><i class="fa fa-refresh"></i></button>
							</div>
						</div>
						<div class="scrollable flex-grow-1">
							<div id="fileTree" class="jstree jstree-3 jstree-default jstree-default-responsive" role="tree" aria-multiselectable="true" tabindex="0" aria-activedescendant="images" aria-busy="false"><ul class="jstree-container-ul jstree-children jstree-contextmenu" role="group"><li role="treeitem" aria-selected="false" aria-level="1" aria-labelledby="images_anchor" aria-expanded="true" id="images" class="jstree-node  jstree-open"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="images_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>images</a><ul role="group" class="jstree-children"><li role="treeitem" aria-selected="false" aria-level="2" aria-labelledby="images/cocktails_anchor" id="images/cocktails" class="jstree-node  jstree-leaf"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="images/cocktails_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>cocktails</a></li><li role="treeitem" aria-selected="true" aria-level="2" aria-labelledby="images/karte_anchor" id="images/karte" class="jstree-node  jstree-leaf"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor jstree-clicked" href="#" tabindex="-1" id="images/karte_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>karte</a></li><li role="treeitem" aria-selected="false" aria-level="2" aria-labelledby="images/slideshow_anchor" id="images/slideshow" class="jstree-node  jstree-leaf"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="images/slideshow_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>slideshow</a></li><li role="treeitem" aria-selected="false" aria-level="2" aria-labelledby="images/sushi_anchor" aria-expanded="false" id="images/sushi" class="jstree-node  jstree-closed jstree-last"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="images/sushi_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>sushi</a></li></ul></li><li role="treeitem" aria-selected="false" aria-level="1" aria-labelledby="layout_anchor" aria-expanded="true" id="layout" class="jstree-node  jstree-open"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="layout_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>layout</a><ul role="group" class="jstree-children"><li role="treeitem" aria-selected="false" aria-level="2" aria-labelledby="layout/icons_anchor" id="layout/icons" class="jstree-node  jstree-leaf jstree-last"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="layout/icons_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>icons</a></li></ul></li><li role="treeitem" aria-selected="false" aria-level="1" aria-labelledby="presse_anchor" id="presse" class="jstree-node  jstree-leaf jstree-last"><i class="jstree-icon jstree-ocl" role="presentation"></i><a class="jstree-anchor" href="#" tabindex="-1" id="presse_anchor"><i class="jstree-icon jstree-themeicon fa fa-folder-o jstree-themeicon-custom" role="presentation"></i>presse</a></li></ul></div>
						</div>
					</div>

					<div class="files d-flex flex-column" style="height: 63vh">
						<div class="toolbar">
							<div class="input-group input-group-sm">
								<input type="search" class="form-control" placeholder="Dateisuche" id="filesFilter">
								<button class="btn btn-light btn-search" type="button"><i class="fa fa-search"></i></button>
								<button class="btn btn-light" type="button" onclick="ce.filetree.rename();" data-toggle="tooltip" data-placement="right" data-container=".sidebar" title="" data-original-title="Datei umbenennen"><i class="fa fa-exchange"></i></button>
								<button class="btn btn-light" type="button" onclick="ce.filetree.delete();" data-toggle="tooltip" data-placement="right" data-container=".sidebar" title="" data-original-title="Datei(en) löschen"><i class="fa fa-trash-o"></i></button>
							</div>
						</div>
						<div id="total-progress" style="display: none" class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
							<div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress=""></div>
						</div>
						<div class="scrollable flex-grow-1">
							<table id="fileList" class="table table-striped" style="width:100%">
								<thead>
									<tr>
										<th>Bild</th>
										<th>Name</th>
										<th>Datum</th>
									</tr>
								</thead>
							</table>
						</div>
					</div>
				</div>

				<div class="tab-pane" id="languages">
					<div class="container d-flex flex-column h-100">
						<div class="mt-3">
							<h3>SPRACHEN</h3>
						</div>
						<div class="scrollable d-flex flex-column justify-content-evenly flex-grow-1">
							<a class="btn btn-secondary d-block" href="/c+e/main/lg=de-at">        <img class="float-start" src="https://flagcdn.com/at.svg" height="20" alt="AT"> AT deutsch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=de-de"><img class="float-start" src="https://flagcdn.com/de.svg" height="20" alt="AT"> DE deutsch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=de-ch"><img class="float-start" src="https://flagcdn.com/ch.svg" height="20" alt="AT"> CH deutsch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=it-ch"><img class="float-start" src="https://flagcdn.com/ch.svg" height="20" alt="AT"> CH italienisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=fr-ch"><img class="float-start" src="https://flagcdn.com/ch.svg" height="20" alt="AT"> CH französisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=fr-fr"><img class="float-start" src="https://flagcdn.com/fr.svg" height="20" alt="AT"> FR französisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=it-it"><img class="float-start" src="https://flagcdn.com/it.svg" height="20" alt="AT"> IT italienisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=en-gb"><img class="float-start" src="https://flagcdn.com/gb.svg" height="20" alt="AT"> GB englisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=fr-be"><img class="float-start" src="https://flagcdn.com/be.svg" height="20" alt="AT"> BE französisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=nl-be"><img class="float-start" src="https://flagcdn.com/be.svg" height="20" alt="AT"> BE flämisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=nl-nl"><img class="float-start" src="https://flagcdn.com/nl.svg" height="20" alt="AT"> NL niederländisch</a>
							<a class="btn btn-outline-secondary d-block" href="/c+e/main/lg=es-es"><img class="float-start" src="https://flagcdn.com/es.svg" height="20" alt="AT"> ES spanisch</a>
						</div>
					</div>
				</div>

				<div class="tab-pane fade" id="publish">
					<div class="container d-flex flex-column h-100">
						<div class="mt-3">
							<h3>PUBLISH</h3>
						</div>
						<div class="scrollable d-flex flex-column justify-content-start flex-grow-1">
							<p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Alias sit non exercitationem beatae consequatur unde rerum velit sequi impedit. Ad, at repellat veritatis esse beatae dolores qui officia eum accusantium!</p>

							<button class="btn btn-lg btn-primary">Setze die aktuelle Seite online</button>
						</div>
					</div>
				</div>

				<div class="tab-pane fade" id="linkcheck">
					<div class="container d-flex flex-column h-100">
						<div class="mt-3">
							<h3>LINK CHECK</h3>
						</div>
						<div class="scrollable d-flex flex-column justify-content-start flex-grow-1">
							<p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Alias sit non exercitationem beatae consequatur unde rerum velit sequi impedit. Ad, at repellat veritatis esse beatae dolores qui officia eum accusantium!</p>

							<button class="btn btn-lg btn-primary">Prüfe alle Links</button>
						</div>
					</div>
				</div>

				<div class="tab-pane fade" id="settings">
					<div class="container d-flex flex-column h-100">
						<div class="mt-3">
							<h3>SETTINGS</h3>
						</div>
						<div class="scrollable d-flex flex-column justify-content-start flex-grow-1">

							<div class="input-group mb-3">
								<span class="input-group-text" id="basic-addon1">@</span>
								<input type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1">
							  </div>
							  
							  <div class="input-group mb-3">
								<input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="basic-addon2">
								<span class="input-group-text" id="basic-addon2">@example.com</span>
							  </div>
							  
							  <label for="basic-url" class="form-label">Your vanity URL</label>
							  <div class="input-group mb-3">
								<span class="input-group-text" id="basic-addon3">https://example.com/users/</span>
								<input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3">
							  </div>
							  
							  <div class="input-group mb-3">
								<span class="input-group-text">$</span>
								<input type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
								<span class="input-group-text">.00</span>
							  </div>
							  
							  <div class="input-group mb-3">
								<input type="text" class="form-control" placeholder="Username" aria-label="Username">
								<span class="input-group-text">@</span>
								<input type="text" class="form-control" placeholder="Server" aria-label="Server">
							  </div>
							  
							  <div class="input-group">
								<span class="input-group-text">With textarea</span>
								<textarea class="form-control" aria-label="With textarea"></textarea>
							  </div>
							
							<div class="btn-group mt-4" role="group">
								<button class="btn btn-outline-secondary" onclick="$('#grid').removeClass('data').addClass('web')">WEB</button>
								<button class="btn btn-outline-secondary" onclick="$('#grid').removeClass('web').addClass('data')">DATA</button>
							</div>
						</div>
					</div>
				</div>
		




			</div>











		</div>
		<div class="gutter-col gutter-column-1">
			<div class="handle"></div>
		</div>
		<div id="content">
			<iframe id="web" src="/de/2/" frameborder="0"></iframe>
			<table id="data" class="table table-striped" style="width:100%">
				<thead>
					<tr>
						<th>First name</th>
						<th>Last name</th>
						<th>Position</th>
						<th>Office</th>
						<th>Start date</th>
						<th>Salary</th>
					</tr>
				</thead>
			</table>
		</div>
	</div>

	<div class="modal fade" id="exampleModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg XXXmodal-dialog-centered modal-dialog-scrollable">
		  <div class="modal-content">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel">Neues Objekt / Inhalt kopieren</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
			  ...
			</div>
			<div class="modal-footer">
			  <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Abbrechen</button>
			  <button type="button" class="btn btn-primary">Anlegen</button>
			</div>
		  </div>
		</div>
	</div>

	<div class="offcanvas offcanvas-end" data-bs-backdrop="false" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
		<div class="offcanvas-header">
		  <h3>EDITOR</h3>
		  <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
		  <div>
			Some text as placeholder. In real life you can have the elements you have chosen. Like, text, images, lists, etc.
		  </div>
		  <p>Clicked on ROW ID <span id="row_id">_</span></p>
		  <p id="row_data"></p>
		  <div class="dropdown mt-3">
			<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown">
			  Dropdown button
			</button>
			<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			  <li><a class="dropdown-item" href="#">Action</a></li>
			  <li><a class="dropdown-item" href="#">Another action</a></li>
			  <li><a class="dropdown-item" href="#">Something else here</a></li>
			</ul>
		  </div>
		</div>
	</div>


	<script>
		var eddit_state = 
		{
			contentWidth: 0,
			gridSizes: '64px 250px 1px 1fr'
		}

		loadState();

		function resizeContent() {
			eddit_state.gridSizes = document.querySelector('#grid').style['grid-template-columns'];
			eddit_state.contentWidth = $('#content').outerWidth() + 1;
			// if ($('#lists').width() == 0)
			// {
			// 	$('#nav .nav').hide();
			// }
			// else
			// {
			// 	$('#nav .nav').show();
			// }
			$('#offcanvasExample').css( { width: eddit_state.contentWidth } );
		}
		function loadState() {
			var _state = JSON.parse( window.localStorage.getItem('eddit_state') );
			if (typeof _state == 'object' && _state != null)
			{
				console.log(_state)
				eddit_state = _state;
				$('#grid').css('grid-template-columns', eddit_state.gridSizes);
				console.log( 'loadState', eddit_state);
			}
		}
		function saveState() {
			window.localStorage.setItem('eddit_state', JSON.stringify(eddit_state));
			console.log( 'saveState', eddit_state);
		}
		function hideLists() {
			
			$('#grid').css('grid-template-columns', '64px 0px 1px 1fr');
		}
		// https://split.js.org/#/split-grid
		// https://github.com/nathancahill/split/tree/master/packages/split-grid
		var grid = Split({ // gutters specified in options
			columnGutters: [{
				track: 2,
				element: document.querySelector('.gutter-column-1'),
			}],
			columnMinSizes: { 1: 250 },
			snapOffset: 0,
			onDrag: resizeContent,
			onDragEnd: saveState
		})
		var debugRow = {};
		$(document).ready( function () {

			resizeContent();
			var bsOffcanvas = new bootstrap.Offcanvas( $('#offcanvasExample') );

			var dataTable = $('#data')
				.DataTable( {
					fixedHeader: {
						header: true,
						headerOffset: 37
					},
					dom: '<"data d-flex flex-column h-100"<"toolbar d-flex justify-content-between"fl><"scrollable flex-grow-1"t><"toolbar-bottom d-flex justify-content-between align-items-center"ip>>',
					ajax: "datatable.json",
					select: true,
					stateSave: true,
					responsive: true,
					pagingType: "full_numbers",
					language: {
						"sEmptyTable":   	ce.i18n.datatable_sEmptyTable,
						"sInfo":         	ce.i18n.datatable_sInfo,
						"sInfoEmpty":    	ce.i18n.datatable_sInfoEmpty,
						"sInfoFiltered": 	ce.i18n.datatable_sInfoFiltered,
						"sInfoPostFix":  	ce.i18n.datatable_sInfoPostFix,
						"sInfoThousands":  	ce.i18n.datatable_sInfoThousands,
						"sLengthMenu":   	ce.i18n.datatable_sLengthMenu,
						"sLoadingRecords": 	ce.i18n.datatable_sLoadingRecords,
						"sProcessing":   	ce.i18n.datatable_sProcessing,
						"sSearch":       	ce.i18n.datatable_sSearch,
						"sZeroRecords":  	ce.i18n.datatable_sZeroRecords,
						"select": {
							"rows": {
								_: ce.i18n.datatable_select_rowsX,
								0: ce.i18n.datatable_select_rows0,
								1: ce.i18n.datatable_select_rows1
							}
						},
						"oPaginate": {
							"sFirst":    	ce.i18n.datatable_oPaginate_sFirst,
							"sPrevious": 	ce.i18n.datatable_oPaginate_sPrevious,
							"sNext":     	ce.i18n.datatable_oPaginate_sNext,
							"sLast":     	ce.i18n.datatable_oPaginate_sLast
						},
						"oAria": {
							"sSortAscending":  ce.i18n.datatable_oAria_sSortAscending,
							"sSortDescending": ce.i18n.datatable_oAria_sSortDescending
						}
					}
				} )
				.on('dblclick', 'tr', function () {
					dataTable.rows(this).select();
					bsOffcanvas.show();

					debugRow = dataTable.row(this);
					var index = dataTable.row(this).index();
					$('#offcanvasExample #row_id').html(index);
					$('#offcanvasExample #row_data').html(debugRow.data().toString());
					// console.log('dblclick debugRow',debugRow);
				});

			var filesTable = $('#fileList')
				.DataTable( {
					dom: 't',
					ajax: "files.json",
					select: true,
					stateSave: true,
					responsive: false,
					"columnDefs": [
						{
							"targets": 0,
							"orderable": false,
							"render": function ( data, type, row )	// bild
							{
								if (data.match(/svg$/))
									return '<div class="draggable" data-file="'+data+'" data-size="'+row[2]+'" data-date="'+row[3]+" "+row[4]+'"><img src="/assets/'+data+'" style="max-width:60px"><i class="icon"></i></div>'; // +' ('+ row[1]+')';
								else if (data.match(/gif|jp?g|png$/i))
									return '<div class="draggable" data-file="'+data+'" data-size="'+row[2]+'" data-date="'+row[3]+" "+row[4]+'"><img src="/media/W/60/'+data+'"><i class="icon"></i></div>'; // +' ('+ row[1]+')';
								else
									return '<div class="draggable" data-file="'+data+'" data-size="'+row[2]+'" data-date="'+row[3]+" "+row[4]+'"><img src="/c+e/assets/icons/document.png"><i class="icon"></i></div>';
							}
						},
						{
							"targets": 1,
							"orderable": true,
							"render": function ( data, type, row )	// name und groesse
							{
								var deleteButton = '<a href="javascript:;" class="btn fa fa-trash-o" style="font-size:14px; padding: 4px 10px 0 0" onclick="ce.filetree.delete(\''+row[1]+'\')"></a>';
								var renameButton = '<a href="javascript:;" class="btn fa fa-exchange" style="font-size:14px; padding: 4px 10px 0 0" onclick="ce.filetree.rename(\''+row[1]+'\')"></a>';
								content = '<span>'+data+'</span>'+'<span class="i">'+row[2]+' kB</span>'; // +' ('+ row[1]+')';
								return content;
							}
						},
						{
							"targets": 2,
							"orderable": true,
							"render": function ( data, type, row )	// datum
							{
								var deleteButton = '<a href="javascript:;" class="btn fa fa-trash-o" style="font-size:14px; float: right; padding-right: 3px;" onclick="ce.filetree.delete(\''+row[1]+'\')"></a>';
								var content = '<span>'+row[3]+'</span>'+'<span class="i">'+row[4]+'</span>'; // +' ('+ row[1]+')';
								return content;
							}
						}
					]

				} )
				.on('dblclick', 'tr', function () {
					filesTable.rows(this).select();
					// bsOffcanvas.show();
					var index = filesTable.row(this).index();
					// $('#offcanvasExample #row_id').html(index);
					console.log('dblclick',this,index);
				});



			$('#exampleModal')
				.on('show.bs.modal', function () {
					// console.log('show modal');
				});

			$('#offcanvasExample')
				.on('show.bs.offcanvas', function () {
					eddit_state.contentWidth = $('#content').outerWidth() + 1;
					// console.log('show offcanvas, resize to',contentWidth);
					$(this).css( { width: eddit_state.contentWidth } )
				})

			$('#nodeTree').jstree(
			{
				"core" :
				{
					"animation" : 100,
					'data' :
					{
						'url' : 'nodes.json',
						'data' : function () {
							return { 'lg' : 'de' };
						},
						'method': 'POST'
					},
					'themes':
					{
						'name': 'default',
						'responsive': true
					},
					"check_callback" : true
				},
				"types" : ce.types.nodes,
				"state" : { "key" : "nodeTree", "events": "changed.jstree open_node.jstree close_node.jstree", "filter" : "selected" },
				"plugins" : ["contextmenu", "dnd", "state", "types", "search"],
			});


			$('#objectTree').jstree(
			{
				"core" :
				{
					"animation" : 100,
					'data' :
					{
						'url' : 'objects.json',
						'data' : function () {
							return { 'lg' : 'de' };
						},
						'method': 'POST'
					},
					'themes':
					{
						'name': 'default',
						'responsive': true
					},
					"check_callback" : true
				},
				"types" : ce.types.objects,
				"state" : { "key" : "nodeTree", "events": "changed.jstree open_node.jstree close_node.jstree", "filter" : "selected" },
				"plugins" : ["contextmenu", "dnd", "state", "types", "search"],
			});

		});

	</script>

</body>
</html>